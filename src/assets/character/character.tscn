[gd_scene load_steps=15 format=2]

[ext_resource path="res://assets/art/randomguy.tres" type="SpriteFrames" id=1]
[ext_resource path="res://assets/Environment/block.tres" type="TileSet" id=2]
[ext_resource path="res://assets/character/character_physics.gd" type="Script" id=3]
[ext_resource path="res://assets/Enemies/Enemy.gd" type="Script" id=4]
[ext_resource path="res://assets/character/Weapon.gd" type="Script" id=5]
[ext_resource path="res://assets/art/pipes.png" type="Texture" id=6]
[ext_resource path="res://assets/art/108-1086909_zombies-peashooter-pixel-minecraft-plants-vs-zombies-pixel.png" type="Texture" id=7]

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 4.5, 6.5 )

[sub_resource type="CapsuleShape2D" id=2]
radius = 3.0
height = 6.0

[sub_resource type="Animation" id=3]
resource_name = "stab"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("WeaponS_R:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 9.5, 0 ), Vector2( 15, 0 ), Vector2( 9.5, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Collision_R:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("WeaponS_R:rotation_degrees")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ -131.0, 55.7, 0.0 ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Collision_R:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 9.5, 0 ), Vector2( 15, 0 ), Vector2( 9.5, 0 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Collision_R:rotation_degrees")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 55.7, 0.0 ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("WeaponS_R:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 0.4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}

[sub_resource type="Animation" id=7]
resource_name = "stab2"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("Collision_L:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( -9.5, 0 ), Vector2( -15, 0 ), Vector2( -9.5, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Collision_L:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, -55.7, 0.0 ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Collision_L:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("WeaponS_L:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( -9.5, 0 ), Vector2( -15, 0 ), Vector2( -9.5, 0 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("WeaponS_L:rotation_degrees")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 131.0, -55.7, 0.0 ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("WeaponS_L:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 0.4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}

[sub_resource type="Animation" id=8]
resource_name = "stab3"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("WeaponS_D:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 150.0, 205.0, 205.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Collision_D:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ true, false, true ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("WeaponS_D:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.1, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ false, true, false ]
}

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 9.5, 14 )

[sub_resource type="Animation" id=6]
resource_name = "hit"
length = 0.2
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 0.764706, 0.0901961, 0.0901961, 1 ), Color( 1, 1, 1, 1 ) ]
}

[node name="World" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource( 2 )
cell_size = Vector2( 8, 8 )
show_collision = true
compatibility_mode = true
format = 1
tile_data = PoolIntArray( -589836, 0, 0, -524300, 0, 0, -458764, 0, 0, -524273, 0, 0, -393228, 0, 0, -458738, 0, 0, -458737, 0, 0, -327692, 0, 0, -393202, 0, 0, -262156, 0, 0, -327666, 0, 0, -196620, 0, 0, -262131, 0, 0, -131084, 0, 0, -196595, 0, 0, -65548, 0, 0, -131059, 0, 0, -12, 0, 0, -65523, 0, 0, 65524, 0, 0, 13, 0, 0, 131060, 0, 0, 65549, 0, 0, 196596, 0, 0, 131085, 0, 0, 262132, 0, 0, 196621, 0, 0, 327668, 0, 0, 262157, 0, 0, 393204, 0, 0, 327694, 0, 0, 458740, 0, 0, 393230, 0, 0, 524275, 0, 0, 524276, 0, 0, 458766, 0, 0, 589811, 0, 0, 524302, 0, 0, 655347, 0, 0, 655348, 0, 0, 589838, 0, 0, 720884, 0, 0, 655374, 0, 0, 786420, 0, 0, 720910, 0, 0, 786446, 0, 0, 917492, 0, 0, 851982, 0, 0, 983028, 0, 0, 917518, 0, 0, 1048564, 0, 0, 1048566, 0, 0, 983054, 0, 0, 1114100, 0, 0, 1114103, 0, 0, 1114104, 0, 0, 1048590, 0, 0, 1179636, 0, 0, 1179640, 0, 0, 1114126, 0, 0, 1245172, 0, 0, 1245177, 0, 0, 1179662, 0, 0, 1310707, 0, 0, 1310713, 0, 0, 1245197, 0, 0, 1376243, 0, 0, 1376249, 0, 0, 1376250, 0, 0, 1310733, 0, 0, 1441779, 0, 0, 1441786, 0, 0, 1441787, 0, 0, 1441788, 0, 0, 1376269, 0, 0, 1507315, 0, 0, 1441805, 0, 0, 1572851, 0, 0, 1507341, 0, 0, 1638387, 0, 0, 1572877, 0, 0, 1703923, 0, 0, 1638413, 0, 0, 1769459, 0, 0, 1703949, 0, 0, 1834995, 0, 0, 1834996, 0, 0, 1769485, 0, 0, 1900532, 0, 0, 1835021, 0, 0, 1966068, 0, 0, 1966069, 0, 0, 1900557, 0, 0, 2031605, 0, 0, 1966092, 0, 0, 2097141, 0, 0, 2031628, 0, 0, 2162677, 0, 0, 2097164, 0, 0, 2228213, 0, 0, 2162700, 0, 0, 2293749, 0, 0, 2228225, 0, 0, 2228226, 0, 0, 2228227, 0, 0, 2228229, 0, 0, 2228230, 0, 0, 2228236, 0, 0, 2359285, 0, 0, 2293760, 0, 0, 2293761, 0, 0, 2293763, 0, 0, 2293764, 0, 0, 2293765, 0, 0, 2293772, 0, 0, 2424821, 0, 0, 2424831, 0, 0, 2359296, 0, 0, 2359301, 0, 0, 2359308, 0, 0, 2490357, 0, 0, 2424837, 0, 0, 2424843, 0, 0, 2555893, 0, 0, 2490373, 0, 0, 2490379, 0, 0, 2621429, 0, 0, 2555909, 0, 0, 2555915, 0, 0, 2686965, 0, 0, 2621445, 0, 0, 2621451, 0, 0, 2752501, 0, 0, 2686982, 0, 0, 2686987, 0, 0, 2818037, 0, 0, 2752518, 0, 0, 2752523, 0, 0, 2883573, 0, 0, 2818055, 0, 0, 2818058, 0, 0, 2949108, 0, 0, 2883591, 0, 0, 2883594, 0, 0, 3014644, 0, 0, 2949127, 0, 0, 2949130, 0, 0, 3080180, 0, 0, 3014664, 0, 0, 3014666, 0, 0, 3145715, 0, 0, 3080200, 0, 0, 3080202, 0, 0, 3211251, 0, 0, 3145736, 0, 0, 3145737, 0, 0, 3276787, 0, 0, 3211273, 0, 0, 3342322, 0, 0, 3276809, 0, 0, 3407858, 0, 0, 3342345, 0, 0, 3342346, 0, 0, 3473394, 0, 0, 3407882, 0, 0, 3538930, 0, 0, 3473418, 0, 0, 3604466, 0, 0, 3538955, 0, 0, 3670002, 0, 0, 3604491, 0, 0, 3735538, 0, 0, 3670028, 0, 0, 3801074, 0, 0, 3735564, 0, 0, 3866610, 0, 0, 3801100, 0, 0, 3932146, 0, 0, 3866637, 0, 0, 3997682, 0, 0, 3932173, 0, 0, 4063218, 0, 0, 3997709, 0, 0, 3997710, 0, 0, 4128754, 0, 0, 4063246, 0, 0, 4194290, 0, 0, 4194303, 0, 0, 4128768, 0, 0, 4128769, 0, 0, 4128783, 0, 0, 4259826, 0, 0, 4259838, 0, 0, 4259839, 0, 0, 4194319, 0, 0, 4325363, 0, 0, 4325373, 0, 0, 4325374, 0, 0, 4259855, 0, 0, 4390900, 0, 0, 4390909, 0, 0, 4325391, 0, 0, 4456437, 0, 0, 4456444, 0, 0, 4390927, 0, 0, 4521974, 0, 0, 4521980, 0, 0, 4456463, 0, 0, 4587511, 0, 0, 4587516, 0, 0, 4521999, 0, 0, 4653047, 0, 0, 4653048, 0, 0, 4653052, 0, 0, 4587535, 0, 0, 4718584, 0, 0, 4718588, 0, 0, 4653071, 0, 0, 4784120, 0, 0, 4784123, 0, 0, 4718607, 0, 0, 4849656, 0, 0, 4849659, 0, 0, 4784143, 0, 0, 4915192, 0, 0, 4915195, 0, 0, 4849679, 0, 0, 4980728, 0, 0, 4915215, 0, 0, 5046264, 0, 0, 4980751, 0, 0, 5111800, 0, 0, 5046287, 0, 0, 5177336, 0, 0, 5111823, 0, 0, 5242872, 0, 0, 5177359, 0, 0, 5308408, 0, 0, 5242895, 0, 0, 5373944, 0, 0, 5308431, 0, 0, 5439480, 0, 0, 5373967, 0, 0, 5505015, 0, 0, 5439502, 0, 0, 5570551, 0, 0, 5505035, 0, 0, 5505036, 0, 0, 5505038, 0, 0, 5636087, 0, 0, 5570570, 0, 0, 5570571, 0, 0, 5570572, 0, 0, 5570574, 0, 0, 5701623, 0, 0, 5636106, 0, 0, 5636109, 0, 0, 5636110, 0, 0, 5767158, 0, 0, 5701641, 0, 0, 5701642, 0, 0, 5701646, 0, 0, 5832694, 0, 0, 5767169, 0, 0, 5767177, 0, 0, 5767182, 0, 0, 5898230, 0, 0, 5832705, 0, 0, 5832706, 0, 0, 5832712, 0, 0, 5832718, 0, 0, 5963766, 0, 0, 5898242, 0, 0, 5898243, 0, 0, 5898244, 0, 0, 5898245, 0, 0, 5898246, 0, 0, 5898247, 0, 0, 5898254, 0, 0, 6029301, 0, 0, 5963789, 0, 0, 6094837, 0, 0, 6029325, 0, 0, 6160372, 0, 0, 6094861, 0, 0, 6225908, 0, 0, 6160397, 0, 0, 6291444, 0, 0, 6225932, 0, 0, 6225933, 0, 0, 6356980, 0, 0, 6291468, 0, 0, 6422515, 0, 0, 6357005, 0, 0, 6488051, 0, 0, 6422541, 0, 0, 6553587, 0, 0, 6488078, 0, 0, 6619123, 0, 0, 6553615, 0, 0, 6684659, 0, 0, 6619152, 0, 0, 6619153, 0, 0, 6750195, 0, 0, 6684690, 0, 0, 6815730, 0, 0, 6750227, 0, 0, 6881267, 0, 0, 6815764, 0, 0, 6946803, 0, 0, 6881301, 0, 0, 7012339, 0, 0, 6946838, 0, 0, 7077876, 0, 0, 7012375, 0, 0, 7143412, 0, 0, 7077910, 0, 0, 7208948, 0, 0, 7208950, 0, 0, 7143446, 0, 0, 7274484, 0, 0, 7274487, 0, 0, 7208981, 0, 0, 7340020, 0, 0, 7340024, 0, 0, 7340025, 0, 0, 7340026, 0, 0, 7274516, 0, 0, 7405556, 0, 0, 7405563, 0, 0, 7405564, 0, 0, 7340051, 0, 0, 7471092, 0, 0, 7471100, 0, 0, 7405586, 0, 0, 7536628, 0, 0, 7536636, 0, 0, 7471121, 0, 0, 7602164, 0, 0, 7602173, 0, 0, 7536656, 0, 0, 7667700, 0, 0, 7667709, 0, 0, 7602190, 0, 0, 7602191, 0, 0, 7733236, 0, 0, 7733245, 0, 0, 7667725, 0, 0, 7798771, 0, 0, 7798781, 0, 0, 7733260, 0, 0, 7864306, 0, 0, 7864307, 0, 0, 7864317, 0, 0, 7864318, 0, 0, 7864319, 0, 0, 7798795, 0, 0, 7929841, 0, 0, 7929842, 0, 0, 7864330, 0, 0, 7995376, 0, 0, 7995377, 0, 0, 7929865, 0, 0, 8060912, 0, 0, 7995400, 0, 0, 8126448, 0, 0, 8060936, 0, 0, 8191984, 0, 0, 8126472, 0, 0, 8257519, 0, 0, 8192008, 0, 0, 8323055, 0, 0, 8257544, 0, 0, 8388591, 0, 0, 8323080, 0, 0, 8454127, 0, 0, 8388617, 0, 0, 8519664, 0, 0, 8454154, 0, 0, 8585200, 0, 0, 8585201, 0, 0, 8519690, 0, 0, 8650738, 0, 0, 8650739, 0, 0 )

[node name="Character" type="KinematicBody2D" parent="."]
script = ExtResource( 3 )

[node name="Camera2D" type="Camera2D" parent="Character"]
current = true
zoom = Vector2( 0.372, 0.442 )
smoothing_enabled = true
smoothing_speed = 7.0

[node name="CharacterSprite" type="AnimatedSprite" parent="Character"]
scale = Vector2( 0.59375, 0.5625 )
frames = ExtResource( 1 )
animation = "idle"
frame = 2
playing = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Character"]
shape = SubResource( 5 )

[node name="Weapon" type="Area2D" parent="Character"]
script = ExtResource( 5 )

[node name="Collision_R" type="CollisionShape2D" parent="Character/Weapon"]
position = Vector2( 9.5, 0 )
shape = SubResource( 2 )
one_way_collision_margin = 0.0

[node name="Collision_L" type="CollisionShape2D" parent="Character/Weapon"]
position = Vector2( -9.5, 0 )
shape = SubResource( 2 )
one_way_collision_margin = 0.0

[node name="Collision_D" type="CollisionShape2D" parent="Character/Weapon"]
position = Vector2( 0, 10 )
rotation = 1.5708
shape = SubResource( 2 )
disabled = true
one_way_collision_margin = 0.0

[node name="WeaponS_R" type="Sprite" parent="Character/Weapon"]
position = Vector2( 10, 1.93715e-07 )
rotation = -2.28638
scale = Vector2( 0.045, 0.03 )
texture = ExtResource( 6 )
centered = false

[node name="WeaponS_L" type="Sprite" parent="Character/Weapon"]
position = Vector2( -9.5, 0 )
rotation = 2.28638
scale = Vector2( 0.045, 0.03 )
texture = ExtResource( 6 )
centered = false
offset = Vector2( -9.5, 4 )

[node name="WeaponS_D" type="Sprite" parent="Character/Weapon"]
visible = false
rotation = 2.61799
scale = Vector2( 0.045, 0.03 )
texture = ExtResource( 6 )
offset = Vector2( 0, -300 )

[node name="Right_Weapon_Ani" type="AnimationPlayer" parent="Character/Weapon"]
anims/stab = SubResource( 3 )

[node name="Left_Weapon_Ani" type="AnimationPlayer" parent="Character/Weapon"]
anims/stab2 = SubResource( 7 )

[node name="Down_Weapon_Ani" type="AnimationPlayer" parent="Character/Weapon"]
anims/stab3 = SubResource( 8 )

[node name="Zombie" type="KinematicBody2D" parent="."]
script = ExtResource( 4 )

[node name="Sprite" type="Sprite" parent="Zombie"]
position = Vector2( 23, -5 )
scale = Vector2( 0.0223837, 0.0296227 )
texture = ExtResource( 7 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Zombie"]
position = Vector2( 23.5, -5 )
shape = SubResource( 4 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Zombie"]
anims/hit = SubResource( 6 )

[connection signal="body_entered" from="Character/Weapon" to="Character/Weapon" method="_on_Weapon_body_entered"]
